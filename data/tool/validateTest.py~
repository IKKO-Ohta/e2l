import glob
import os

"""
2つのディレクトリの日付が完全に等しいことをvalidateする。
もし差異があったら、積集合だけを残すように削除する。。
"""

articles = glob.glob("../test/*.txt")
stockValues = glob.glob("../stockValueTest/*.tsv")

articles = [article.replace("../test/","").replace(".txt","")[:-5] for article in articles]
stockValues = [sv.replace("../stockValueTest/","").replace(".tsv","") for sv in stockValues]

interSection = set(articles).intersection(set(stockValues))
print("intersection:",len(interSection),"days,")

left = set(articles) - set(stockValue)
right = set(stockValue) - set(articles)

print(right)
print(left)
for l in left:
    delFiles = ("../test/"+l+"*")
    [os.remove(delFile) for delFile in delFiles]
for r in right:
    os.remove("../stockValueTest"+ r + ".tsv")
